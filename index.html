<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—°ì œêµ¬ ìŒì‹ ë£°ë ›</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f0f9ff; /* Light blue background */
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }
        .roulette-display {
            width: 300px; /* Fixed width */
            height: 150px; /* Fixed height */
            border: 5px solid #3b82f6; /* Blue border */
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            background-color: #ffffff; /* White background */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            overflow: hidden; /* Hide overflowing text during animation */
            position: relative; /* For absolute positioning of spinning items */
        }
        .food-item {
            font-size: 2rem; /* 32px */
            font-weight: bold;
            color: #1d4ed8; /* Darker blue text */
            text-align: center;
            padding: 10px;
            white-space: nowrap; /* Prevent text wrapping */
            position: absolute; 
            transition: opacity 0.3s ease-out; 
        }
        .start-button {
            padding: 15px 30px;
            font-size: 1.25rem; /* 20px */
            font-weight: bold;
            color: white;
            background-color: #2563eb; /* Blue button */
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .start-button:hover {
            background-color: #1d4ed8; /* Darker blue on hover */
        }
        .start-button:active {
            transform: scale(0.98);
        }
        .message-box {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #10b981; /* Green */
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            visibility: hidden;
        }
        .message-box.show {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body class="bg-blue-50">
    <div class="container">
        <h1 class="text-4xl font-bold text-blue-700 mb-8 text-center">ì˜¤ëŠ˜ ë­ ë¨¹ì§€? ğŸ¤”<br>ì—°ì œêµ¬ ë°°ë‹¬ ìŒì‹ ë£°ë ›!</h1>
        <div class="roulette-display" id="rouletteDisplay">
            <span class="food-item" id="foodResult">???</span>
        </div>
        <button class="start-button" id="startButton">ì˜¤ëŠ˜ì˜ ë©”ë‰´ëŠ”? ë£°ë › ì‹œì‘!</button>

        <div id="instructions" class="mt-8 p-6 bg-white rounded-lg shadow-md w-full max-w-md text-gray-700">
            <h2 class="text-xl font-semibold text-blue-600 mb-3">âœ¨ ì‚¬ìš© ë°©ë²• âœ¨</h2>
            <p class="mb-2">1. <strong class="text-blue-500">'ì˜¤ëŠ˜ì˜ ë©”ë‰´ëŠ”? ë£°ë › ì‹œì‘!'</strong> ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.</p>
            <p class="mb-2">2. ë£°ë ›ì´ ëŒì•„ê°€ë©° ë‹¤ì–‘í•œ ìŒì‹ë“¤ì´ ë¹ ë¥´ê²Œ ì§€ë‚˜ê°‘ë‹ˆë‹¤.</p>
            <p>3. ì ì‹œ í›„, ì˜¤ëŠ˜ì˜ ì¶”ì²œ ë©”ë‰´ê°€ ì§ ! í•˜ê³  ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</p>
            <p class="mt-4 text-sm text-gray-500">â€» ìŒì‹ ëª©ë¡ì€ ì½”ë“œ ë‚´ì—ì„œ ìˆ˜ì •í•˜ê±°ë‚˜ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>
    </div>

    <div id="messageBox" class="message-box">ë©”ì‹œì§€</div>

    <script>
        // ìŒì‹ ëª©ë¡
        const foodList = [
            "ì¡±ë°œ/ë³´ìŒˆ", "ì°œ/íƒ•/ì°Œê°œ", "ëˆê¹ŒìŠ¤/íšŒ/ì¼ì‹", "í”¼ì", "ê³ ê¸°/êµ¬ì´",
            "ì–‘ì‹", "ì¹˜í‚¨", "ì¤‘ì‹", "ì•„ì‹œì•ˆ", "ë°±ë°˜/ì£½/êµ­ìˆ˜",
            "ë¶„ì‹", "ë„ì‹œë½", "íŒ¨ìŠ¤íŠ¸í‘¸ë“œ", "ë””ì €íŠ¸/ì¹´í˜", "ìƒŒë“œìœ„ì¹˜/ìƒëŸ¬ë“œ",
            "ê³±ì°½/ë§‰ì°½", "í•´ë¬¼ì°œ/íƒ•", "íŒŒìŠ¤íƒ€", "ë–¡ë³¶ì´", "ê¹€ì¹˜ì°œ",
            "ë¶€ëŒ€ì°Œê°œ", "ìŒ€êµ­ìˆ˜", "ë§ˆë¼íƒ•", "ì´ˆë°¥", "ë®ë°¥"
        ];

        // HTML ìš”ì†Œ ê°€ì ¸ì˜¤ê¸° (ìŠ¤í¬ë¦½íŠ¸ ìƒë‹¨ì—ì„œ í•œ ë²ˆë§Œ)
        const foodResultElement = document.getElementById('foodResult'); // ìŒì‹ ì´ë¦„ì´ í‘œì‹œë  ìš”ì†Œ
        const startButton = document.getElementById('startButton');
        const messageBox = document.getElementById('messageBox');
        // rouletteDisplayëŠ” ì§ì ‘ì ì¸ ì¡°ì‘ì´ ë§ì§€ ì•Šì•„ í•„ìš”ì‹œ í•¨ìˆ˜ ë‚´ì—ì„œ ê°€ì ¸ì™€ë„ ë¬´ë°©í•˜ë‚˜, ì¼ê´€ì„±ì„ ìœ„í•´ ì—¬ê¸°ì„œ ì„ ì–¸í•´ë„ ë©ë‹ˆë‹¤.
        // const rouletteDisplay = document.getElementById('rouletteDisplay'); 

        let spinningInterval;
        let spinCount = 0;
        const maxSpins = 30; 
        const spinDuration = 80; 

        // ë©”ì‹œì§€ ë°•ìŠ¤ë¥¼ ë³´ì—¬ì£¼ëŠ” í•¨ìˆ˜
        function showMessage(message, duration = 3000) {
            messageBox.textContent = message;
            messageBox.classList.add('show');
            setTimeout(() => {
                messageBox.classList.remove('show');
            }, duration);
        }

        // ë£°ë › ì• ë‹ˆë©”ì´ì…˜ í•¨ìˆ˜
        function spinRoulette() {
            // foodResultElementê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìœ¼ë©´ ì˜¤ë¥˜ ì²˜ë¦¬
            if (!foodResultElement) {
                console.error("ì˜¤ë¥˜: ìŒì‹ í‘œì‹œ ì˜ì—­(#foodResult)ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                showMessage("ë£°ë › ì‹¤í–‰ì— í•„ìš”í•œ ì¤‘ìš” êµ¬ì„± ìš”ì†Œë¥¼ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨ í•´ë³´ì„¸ìš”.", 5000);
                startButton.disabled = false; // ë²„íŠ¼ ì¬í™œì„±í™” ì‹œë„
                startButton.textContent = "ì˜¤ë¥˜ ë°œìƒ! ë‹¤ì‹œ ì‹œë„";
                return;
            }

            spinCount = 0;
            startButton.disabled = true; 
            startButton.textContent = "ëŒì•„ê°€ëŠ” ì¤‘... ğŸ•ğŸ—ğŸœ";
            
            foodResultElement.style.opacity = '1'; // ìŠ¤í•€ ì¤‘ì—ëŠ” í•­ìƒ ë³´ì´ë„ë¡ ì„¤ì •

            spinningInterval = setInterval(() => {
                const randomIndex = Math.floor(Math.random() * foodList.length);
                const currentFood = foodList[randomIndex];
                
                foodResultElement.textContent = currentFood; 

                spinCount++;

                if (spinCount >= maxSpins) {
                    clearInterval(spinningInterval);
                    finalizeSelection(currentFood); 
                }
            }, spinDuration);
        }

        // ìµœì¢… ìŒì‹ ì„ íƒ ë° í‘œì‹œ í•¨ìˆ˜
        function finalizeSelection(finalFood) {
            if (!foodResultElement) {
                console.error("ì˜¤ë¥˜: ìµœì¢… ì„ íƒ ì‹œ ìŒì‹ í‘œì‹œ ì˜ì—­(#foodResult)ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                showMessage("ë£°ë › ê²°ê³¼ë¥¼ í‘œì‹œí•˜ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨ í•´ë³´ì„¸ìš”.", 5000);
                startButton.disabled = false; // ë²„íŠ¼ ì¬í™œì„±í™” ì‹œë„
                startButton.textContent = "ì˜¤ë¥˜ ë°œìƒ! ë‹¤ì‹œ ì‹œë„";
                return;
            }

            foodResultElement.textContent = finalFood;
            foodResultElement.style.opacity = '0'; 
            void foodResultElement.offsetHeight; // ê°•ì œ ë¦¬í”Œë¡œìš°ë¡œ íŠ¸ëœì§€ì…˜ í™œì„±í™”
            foodResultElement.style.opacity = '1';

            startButton.disabled = false; 
            startButton.textContent = "í•œë²ˆ ë”! ë£°ë › ì‹œì‘!";
            showMessage(`ì˜¤ëŠ˜ì˜ ì¶”ì²œ ë©”ë‰´ëŠ” "${finalFood}" ì…ë‹ˆë‹¤! ë§›ìˆê²Œ ë“œì„¸ìš”! ğŸ‰`);
        }

        // ì‹œì‘ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        if (startButton) {
            startButton.addEventListener('click', spinRoulette);
        } else {
            console.error("ì˜¤ë¥˜: ì‹œì‘ ë²„íŠ¼(#startButton)ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
            showMessage("ì‹œì‘ ë²„íŠ¼ì„ ì°¾ì„ ìˆ˜ ì—†ì–´ ë£°ë ›ì„ ì‹¤í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨ í•´ë³´ì„¸ìš”.", 5000);
        }
        

        // ì´ˆê¸° ë©”ì‹œì§€ ì„¤ì •
        if (foodResultElement) {
            foodResultElement.textContent = "ë£°ë ›ì„ ëŒë ¤ë³´ì„¸ìš”!";
            foodResultElement.style.opacity = '1';
        } else {
            // foodResultElementê°€ ì—†ëŠ” ê²½ìš°ì— ëŒ€í•œ ì²˜ë¦¬ (ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹œì )
            console.error("ì˜¤ë¥˜: ì´ˆê¸°í™” ì‹œ ìŒì‹ í‘œì‹œ ì˜ì—­(#foodResult)ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
            // ëŒ€ì²´ í…ìŠ¤íŠ¸ë¥¼ rouletteDisplayì— ì§ì ‘ ë„£ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
            const displayDiv = document.getElementById('rouletteDisplay');
            if (displayDiv) {
                displayDiv.textContent = "í‘œì‹œ ì˜ì—­ ë¡œë“œ ì‹¤íŒ¨!";
                displayDiv.style.color = "red";
            }
        }

    </script>
</body>
</html>
